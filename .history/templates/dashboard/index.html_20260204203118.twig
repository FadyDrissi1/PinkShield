{% extends 'base.html.twig' %}

{% block title %}Dashboard{% endblock %}

{% block body %}
    <div class="container">
        <div class="dashboard-wrap">
            <aside class="sidebar card">
                <h3>Menu</h3>
                <ul>
                    <li><a href="{{ path('dashboard') }}">Tableau de bord</a></li>
                    <li><a href="{{ path('appointments') }}">Rendez-vous</a></li>
                    <li><a href="{{ path('profile') }}">Mon profil</a></li>
                    <li><a href="{{ path('forum') }}">Communaut√©</a></li>
                    <li><a href="{{ path('notifications') }}">Notifications</a></li>
                    
                    <li style="color: #6c757d; font-size: 0.9em; margin-top: 10px;">--- Sant√© ---</li>
                    
                    {# AJOUT DU LIEN VERS LES DOSSIERS M√âDICAUX #}
                    <li><a href="{{ path('medical_records') }}" style="font-weight: bold; color: #d63384;">ü©∫ Dossiers M√©dicaux</a></li>
                    
                    <li><a href="{{ path('health_habits') }}">Habitudes quotidiennes</a></li>
                    <li><a href="{{ path('health_sleep') }}">Sommeil</a></li>
                    <li><a href="{{ path('health_activities') }}">Activit√©s physiques</a></li>
                    <li><a href="{{ path('health_stress') }}">Stress</a></li>
                    <li><a href="{{ path('health_emotions') }}">√âmotions & bien-√™tre</a></li>
                </ul>
            </aside>

            <main class="content card">
                <div class="brand" style="justify-content:flex-start;margin-bottom:12px">
                    <div class="logo"><img src="/images/transparent-logo.png" alt="PinkShield" class="logo-img" width="56" height="56" loading="lazy"></div>
                    <div class="title">PinkShield</div>
                </div>
                <h1>Bonjour, {{ app.user ? app.user.userIdentifier : 'invit√©' }}!</h1>
                <p>Bienvenue dans votre tableau de bord PinkShield.</p>

                <div style="display:grid;grid-template-columns:repeat(2,1fr);gap:12px;margin-top:18px">
                    <div style="padding:12px;border-radius:8px;background:#fff; border: 1px solid #eee;">Stats & graphiques (placeholder)</div>
                    <div style="padding:12px;border-radius:8px;background:#fff; border: 1px solid #eee;">Rappels & notifications (placeholder)</div>
                    
                    {# LIEN RAPIDE AUSSI DANS LE DASHBOARD #}
                    <a href="{{ path('medical_records') }}" style="text-decoration: none; color: inherit;">
                        <div style="padding:12px;border-radius:8px;background:#fff; border: 1px solid #d63384;">Acc√©der aux dossiers m√©dicaux</div>
                    </a>
                    
                    <div style="padding:12px;border-radius:8px;background:#fff; border: 1px solid #eee;">Modifier informations personnelles</div>
                </div>

                <form action="{{ path('app_logout') }}" method="post" style="margin-top:18px">
                    <button class="btn" type="submit">Se d√©connecter</button>
                </form>
            </main>
        </div>
    </div>
{% endblock %}